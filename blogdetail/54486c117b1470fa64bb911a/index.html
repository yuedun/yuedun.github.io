<!DOCTYPE html>
<html class="no-js" lang="zh-cn">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>git常用命令 - 月盾的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="查看、添加、提交、删除、找回，重置修改文件git help &amp;lt;command&amp;gt; # 显示command的helpgit show # 显示某次提交的">
		<meta property="og:title" content="git常用命令" />
<meta property="og:description" content="查看、添加、提交、删除、找回，重置修改文件git help &amp;lt;command&amp;gt; # 显示command的helpgit show # 显示某次提交的" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/blogdetail/54486c117b1470fa64bb911a/" /><meta property="article:section" content="blogdetail" />
<meta property="article:published_time" content="2014-10-23T02:46:41&#43;00:00" />
<meta property="article:modified_time" content="2014-10-23T02:46:41&#43;00:00" />


		<meta itemprop="name" content="git常用命令">
<meta itemprop="description" content="查看、添加、提交、删除、找回，重置修改文件git help &amp;lt;command&amp;gt; # 显示command的helpgit show # 显示某次提交的"><meta itemprop="datePublished" content="2014-10-23T02:46:41&#43;00:00" />
<meta itemprop="dateModified" content="2014-10-23T02:46:41&#43;00:00" />
<meta itemprop="wordCount" content="495">
<meta itemprop="keywords" content="" />
		<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="git常用命令"/>
<meta name="twitter:description" content="查看、添加、提交、删除、找回，重置修改文件git help &amp;lt;command&amp;gt; # 显示command的helpgit show # 显示某次提交的"/>


	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/custom.css">

	<link rel="shortcut icon" href="/favicon.ico">
		
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9KRMQRCRDQ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9KRMQRCRDQ');
</script>
</head>
<body class="body">
		<header class="header">
	
	<div class="logo">
		<div class="container">
			<a class="logo__link" href="/" title="月盾" rel="home">
				<div class="logo__item logo__text">
						<div class="logo__title">月盾</div>
						<div class="logo__tagline">分享Go，nodejs，开发工具以及生活感悟</div>
					</div>
			</a>
		</div>
	</div>

</header>

<nav class="menu">
	<div class="container">
		<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
			<span class="menu__btn-title" tabindex="-1">菜单</span>
		</button>
		<ul class="menu__list">
			<li class="menu__item">
				<a class="menu__link" href="/catalog/">
					
					<span class="menu__text">目录</span>
					
				</a>
			</li>
			<li class="menu__item">
				<a class="menu__link" href="/message/">
					
					<span class="menu__text">留言</span>
					
				</a>
			</li>
			<li class="menu__item">
				<a class="menu__link" href="/about/">
					
					<span class="menu__text">关于我</span>
					
				</a>
			</li>
		</ul>
	</div>
</nav>



		<div class="container wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">git常用命令</h1>
			<div class="post__meta meta"><div class="meta__item-author meta__item">
	<svg class="meta__icon icon icon-author" width="16" height="16" viewBox="0 0 12 16"><path d="M6 1c2.2 0 3.5 2 3.5 4.5C9.5 7 8.9 8.2 8 9c2.9.8 4 2.5 4 5v1H0v-1c0-2.5 1.1-4.2 4-5-.9-.8-1.5-2-1.5-3.5C2.5 3 3.8 1 6 1z"/></svg><span class="meta__text">月盾</span>
</div>
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2014-10-23T02:46:41Z">2014-10-23 02:46</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/" rel="category">工具使用</a>
	</span>
</div></div>
		</header>
<div class="post__toc toc">
	<div class="toc__title">目录</div>
	<div class="toc__menu">
		<nav id="TableOfContents"></nav>
	</div>
</div>
<div class="content post__content clearfix">
			<p><strong>查看、添加、提交、删除、找回，重置修改文件</strong></p>
<p>git help &lt;command&gt; # 显示command的help</p>
<p>git show # 显示某次提交的内容 git show $id</p>
<p>git co &ndash; &lt;file&gt; # 抛弃工作区修改</p>
<p>git co . # 抛弃工作区修改</p>
<p>git add &lt;file&gt; # 将工作文件修改提交到本地暂存区</p>
<p>git add . # 将所有修改过的工作文件提交暂存区</p>
<p>git rm &lt;file&gt; # 从版本库中删除文件</p>
<p>git rm &lt;file&gt; &ndash;cached # 从版本库中删除文件，但不删除文件</p>
<p>git reset &lt;file&gt; # 从暂存区恢复到工作文件</p>
<p>git reset &ndash; . # 从暂存区恢复到工作文件</p>
<p>git reset &ndash;hard # 恢复最近一次提交过的状态，即放弃上次提交后的所有本次修改</p>
<p>git ci &lt;file&gt; git ci . git ci -a # 将git add, git rm和git ci等操作都合并在一起做　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　git ci -am &quot;some comments&quot;</p>
<p>git ci &ndash;amend # 修改最后一次提交记录</p>
<p>git revert &lt;$id&gt; # 恢复某次提交的状态，恢复动作本身也创建次提交对象</p>
<p>git revert HEAD # 恢复最后一次提交的状态</p>
<p><strong>查看文件diff</strong></p>
<p>git diff &lt;file&gt; # 比较当前文件和暂存区文件差异 git diff</p>
<p>git diff &lt;$id1&gt; &lt;$id2&gt; # 比较两次提交之间的差异</p>
<p>git diff &lt;branch1&gt;..&lt;branch2&gt; # 在两个分支之间比较</p>
<p>git diff &ndash;staged # 比较暂存区和版本库差异</p>
<p>git diff &ndash;cached # 比较暂存区和版本库差异</p>
<p>git diff &ndash;stat # 仅仅比较统计信息</p>
<p><strong>查看提交记录</strong></p>
<p>git log git log &lt;file&gt; # 查看该文件每次提交记录</p>
<p>git log -p &lt;file&gt; # 查看每次详细修改内容的diff</p>
<p>git log -p -2 # 查看最近两次详细修改内容的diff</p>
<p>git log &ndash;stat #查看提交统计信息</p>
<p><strong>tig</strong></p>
<p>Mac上可以使用tig代替diff和log，<code>brew install tig</code></p>
<p><strong>Git 本地分支管理</strong></p>
<p><strong>查看、切换、创建和删除分支</strong></p>
<p>git br -r # 查看远程分支</p>
<p>git br &lt;new_branch&gt; # 创建新的分支</p>
<p>git br -v # 查看各个分支最后提交信息</p>
<p>git br &ndash;merged # 查看已经被合并到当前分支的分支</p>
<p>git br &ndash;no-merged # 查看尚未被合并到当前分支的分支</p>
<p>git co &lt;branch&gt; # 切换到某个分支</p>
<p>git co -b &lt;new_branch&gt; # 创建新的分支，并且切换过去</p>
<p>git co -b &lt;new_branch&gt; &lt;branch&gt; # 基于branch创建新的new_branch</p>
<p>git co $id # 把某次历史提交记录checkout出来，但无分支信息，切换到其他分支会自动删除</p>
<p>git co $id -b &lt;new_branch&gt; # 把某次历史提交记录checkout出来，创建成一个分支</p>
<p>git br -d &lt;branch&gt; # 删除某个分支</p>
<p>git br -D &lt;branch&gt; # 强制删除某个分支 (未被合并的分支被删除的时候需要强制)</p>
<p><strong> 分支合并和rebase</strong></p>
<p>git merge &lt;branch&gt; # 将branch分支合并到当前分支</p>
<p>git merge origin/master &ndash;no-ff # 不要Fast-Foward合并，这样可以生成merge提交</p>
<p>git rebase master &lt;branch&gt; # 将master rebase到branch，相当于： git co &lt;branch&gt; &amp;&amp; git rebase master &amp;&amp; git co master &amp;&amp; git merge &lt;branch&gt;</p>
<p><strong> Git补丁管理(方便在多台机器上开发同步时用)</strong></p>
<p>git diff &gt; ../sync.patch # 生成补丁</p>
<p>git apply ../sync.patch # 打补丁</p>
<p>git apply &ndash;check ../sync.patch #测试补丁能否成功</p>
<p><strong> Git暂存管理</strong></p>
<p>git stash # 暂存</p>
<p>git stash list # 列所有stash</p>
<p>git stash apply # 恢复暂存的内容</p>
<p>git stash drop # 删除暂存区</p>
<p><strong>Git远程分支管理</strong></p>
<p>git pull # 抓取远程仓库所有分支更新并合并到本地</p>
<p>git pull &ndash;no-ff # 抓取远程仓库所有分支更新并合并到本地，不要快进合并</p>
<p>git fetch origin # 抓取远程仓库更新</p>
<p>git merge origin/master # 将远程主分支合并到本地当前分支</p>
<p>git co &ndash;track origin/branch # 跟踪某个远程分支创建相应的本地分支</p>
<p>git co -b &lt;local_branch&gt; origin/&lt;remote_branch&gt; # 基于远程分支创建本地分支，功能同上</p>
<p>git push # push所有分支</p>
<p>git push origin master # 将本地主分支推到远程主分支</p>
<p>git push -u origin master # 将本地主分支推到远程(如无远程主分支则创建，用于初始化远程仓库)</p>
<p>git push origin &lt;local_branch&gt; # 创建远程分支， origin是远程仓库名</p>
<p>git push origin &lt;local_branch&gt;:&lt;remote_branch&gt; # 创建远程分支</p>
<p>git push origin :&lt;remote_branch&gt; #先删除本地分支(git br -d &lt;branch&gt;)，然后再push删除远程分支</p>
<p><strong>Git远程仓库管理</strong></p>
<p><em><a href="http://blog.jobbole.com/6492/">GitHub</a></em></p>
<p>git remote -v # 查看远程服务器地址和仓库名称</p>
<p>git remote show origin # 查看远程服务器仓库状态</p>
<p>git remote add origin git@ github:robbin/robbin_site.git # 添加远程仓库地址</p>
<p>git remote set-url origin git@ github.com:robbin/robbin_site.git # 设置远程仓库地址(用于修改远程仓库地址) git remote rm &lt;repository&gt; # 删除远程仓库</p>
<p><strong>创建远程仓库</strong></p>
<p>git clone &ndash;bare robbin_site robbin_site.git # 用带版本的项目创建纯版本仓库</p>
<p>scp -r my_project.git git@ git.csdn.net:~ # 将纯仓库上传到服务器上</p>
<p>mkdir robbin_site.git &amp;&amp; cd robbin_site.git &amp;&amp; git &ndash;bare init # 在服务器创建纯仓库</p>
<p>git remote add origin git@ github.com:robbin/robbin_site.git # 设置远程仓库地址</p>
<p>git push -u origin master # 客户端首次提交</p>
<p>git push -u origin develop # 首次将本地develop分支提交到远程develop分支，并且track</p>
<p>git remote set-head origin master # 设置远程仓库的HEAD指向master分支</p>
<p>也可以命令设置跟踪远程库和本地库</p>
<p>git branch &ndash;set-upstream master origin/master</p>
<p>git branch &ndash;set-upstream develop origin/develop</p>
<p><strong>添加本地项目到github</strong></p>
<p>首先在git bash命令行切换到本地项目目录，然后在github上创建资源库，复制地址。执行命令git init初始化git标记，此时本地文件目录会新增.git隐藏文件夹，删除这个文件夹就可以删除所有git标记。init以后只是创建了本地git资源，并未与github资源库关联。在git bash命令行添加远程资源库：git remote add name https://github.com/hpgt/name.git这样就关联起来了，然后在提交之前需要pull更新:git pull name master,接下来将本地文件add进索引：[git add .]添加所有，或者单独添加git add &lt;文件夹或文件&gt;，提交：git commit -m &quot;注释说明&quot;,提交到远程资源库：git push -u name master首次提交</p>

		</div>
	</article>
</main>

<div class="authorbox clearfix">
	<figure class="authorbox__avatar">
		<img alt="月盾 avatar" src="http://www.hopefly.top/static/dist/img/wx.jpg" class="avatar" height="90" width="90">
	</figure>
	<div class="authorbox__header">
		<span class="authorbox__name"></span>
	</div>
	<div class="authorbox__description">
		这是我的微信，需要联系请扫码添加
	</div>
</div>

<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/blogdetail/5440a294fea3dae97beee4f9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;上一篇</span>
			<p class="pager__title">mongoose实现翻页</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/blogdetail/54488218aedc6cf109b96d32/" rel="next">
			<span class="pager__subtitle">下一篇&thinsp;»</span>
			<p class="pager__title">让你的Node.js应用跑得更快的10个技巧</p>
		</a>
	</div>
</nav>



			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2021 月盾.
			<span class="footer__copyright-credits">基于 <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> 引擎和 <a href="https://github.com/pfadfinder-konstanz/hugo-dpsg/" rel="nofollow noopener" target="_blank">DPSG</a>主題</span>
			<span><a href="https://beian.miit.gov.cn/">沪ICP备17035008号-1</a></span>
		</div>
	</div>
</footer>

<script async defer src="/js/menu.js"></script>
<script src="/js/custom.js"></script>

</body>
</html>
